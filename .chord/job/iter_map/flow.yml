version: "0.0.1"


stage:
  sg1:
    step:
      sp1:
        exec:
          action: iter_map
          args:
            arr: [ a, b, c ]
            exec:
              action: echo
              args:
                echo:
                  - idx: "0-{{idx}}"
                    item: "0-{{item}}"
                  
                  - idx: "1-{{idx}}"
                    item: "1-{{item}}"
                    
        assert: |
          (all
            (eq state "Ok")
            (eq value.2.1.item "1-c")
          )
      
      sp2:
        let:
          contnet:
            $ref: step.sp1.value
        exec:
          action: log
          args:
            log:
              $ref: contnet
                
            
            
                    
        
