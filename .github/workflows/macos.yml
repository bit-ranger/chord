name: macos

on:
    push:
        branches: [ master ]
    pull_request:
        branches: [ master ]

env:
    CARGO_TERM_COLOR: always

jobs:
    build:
        
        runs-on: macos-latest
        
        steps:
            -   name: Checkout
                uses: actions/checkout@v2
            
            -   name: Build
                run: cargo build --verbose --release
            
            -   name: Upload
                uses: actions/upload-artifact@v2
                with:
                    name: macos-release
                    retention-days: 1
                    if-no-files-found: error
                    path: |
                        target/release/chord-cmd
                        target/release/chord-web
                    
                
